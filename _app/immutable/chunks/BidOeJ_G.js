import"./DsnmJJEf.js";import{p as D,f as O,a as p,d as x,r as w,s as j,t as U,b as m,c as z,I as H,J as L,O as R,K as _,L as g,M as W,R as X,ah as Y}from"./BrdnHHIv.js";import{r as S,i as B,p as Z}from"./O1ewY8Pd.js";import{a as V,s as q,c as C,r as $}from"./BLczGS6a.js";import{p as T}from"./9ii8xDE6.js";import{b as ee,s as te}from"./WRkkN5Hx.js";import{e as ne}from"./DooZ_kRJ.js";import{a as F,d as J,b,c as re,D as se}from"./DIq7hFqA.js";var ae=O('<a><!></a> <span class="hashlink_scroll_target svelte-1aeep1w" aria-hidden="true"></span>',1);function oe(t,e){D(e,!0);const l=S(e,["$$slots","$$events","$$legacy","fragment","children"]);var r=ae(),a=p(r);V(a,()=>({...l,class:`hashlink ${e.class??""}`,href:`#${e.fragment??""}`,"aria-label":"hashlink"}),void 0,void 0,void 0,"svelte-1aeep1w");var c=x(a);{var s=o=>{var f=H(),d=p(f);L(d,()=>e.children),m(o,f)},n=o=>{var f=R("#");m(o,f)};B(c,o=>{e.children?o(s):o(n,!1)})}w(a);var i=j(a,2);U(()=>q(i,"id",e.fragment)),m(t,r),z()}const M=(t,e=W)=>{X();var l=R();U(()=>te(l,e())),m(t,l)};var ie=O("<a><!></a>"),fe=O("<!> <!>",1);function le(t,e){D(e,!0);const l=S(e,["$$slots","$$events","$$legacy"]),r=F.get(),a=J.get(),c=b(r.name),s=b(r.name),n=a.add(c,r.name,T.url.pathname);ee(()=>{a.remove(n)});const i=g(()=>re(s,T.url.pathname)),o=g(()=>_(i).path),f=g(()=>_(i).path_is_selected);var d=H(),u=p(d);ne(u,()=>_(f)?"h1":"h2",!1,(h,A)=>{V(h,()=>({...l,class:"tome_header"}),void 0,void 0,void 0,"svelte-1xrywxy");var E=fe(),I=p(E);{var K=v=>{M(v,()=>r.name)},N=v=>{var y=ie(),Q=x(y);M(Q,()=>r.name),w(y),U(()=>q(y,"href",_(o))),m(v,y)};B(I,v=>{_(f)?v(K):v(N,!1)})}var G=j(I,2);oe(G,{get fragment(){return c}}),m(A,E)}),m(t,d),z()}const k=(t,e)=>{if(Object.is(t,e))return!0;const l=typeof t;if(l!==typeof e)return!1;switch(l){case"string":case"number":case"bigint":case"boolean":case"symbol":case"undefined":case"function":return!1}if(t===null||e===null)return!1;const r=t.constructor;if(r!==e.constructor)return!1;if(Array.isArray(t)){const s=t.length;if(e.length!==s)return!1;for(let n=0;n<s;n++)if(!k(t[n],e[n]))return!1;return!0}if(r===Set){if(t.size!==e.size)return!1;for(const s of t)if(!e.has(s))return!1;return!0}if(r===Map){if(t.size!==e.size)return!1;for(const[s,n]of t)if(!e.has(s)||!k(n,e.get(s)))return!1;return!0}if(r===RegExp)return t.source===e.source&&t.flags===e.flags;if(r===Date)return Object.is(t.getTime(),e.getTime());if(r===ArrayBuffer){if(t.byteLength!==e.byteLength)return!1;const s=new Uint8Array(t),n=new Uint8Array(e),i=t.byteLength;for(let o=0;o<i;o++)if(s[o]!==n[o])return!1;return!0}if(ArrayBuffer.isView(t)){if(r===DataView){const n=t.byteLength;if(e.byteLength!==n)return!1;for(let i=0;i<n;i++)if(t.getUint8(i)!==e.getUint8(i))return!1;return!0}if(e.length!==t.length)return!1;const s=t.length;for(let n=0;n<s;n++)if(t[n]!==e[n])return!1;return!0}if(r===Number)return Object.is(t.valueOf(),e.valueOf());if(r===Boolean)return t.valueOf()===e.valueOf();if(r===Error)return t.message===e.message&&t.name===e.name;if(r===Promise)return!1;const a=Object.keys(t),c=a.length;if(c!==Object.keys(e).length)return!1;for(let s=0;s<c;s++){const n=a[s];if(!(n in e)||!k(t[n],e[n]))return!1}return!0},P=t=>e=>{let l=!1,r=0,a=null,c,s,n,i;const o=()=>{if(!a)return;const f=a;a.disconnect(),n&&n({intersecting:l,intersections:r,el:e,observer:f}),a=null};return Y(()=>{const f=t();if(f==null){s=void 0,n=void 0,i=void 0,a&&o();return}let d;if(typeof f=="function"?(s=f,n=void 0,i=void 0,d=void 0):(s=f.onintersect,n=f.ondisconnect,i=f.count,d=f.options),i===0){a&&o();return}(!k(c,d)||!a)&&(a&&o(),l=!1,r=0,c=d,a=new IntersectionObserver(h=>{l=h[0].isIntersecting,s&&a&&s({intersecting:l,intersections:r,el:e,observer:a,disconnect:o}),l?r++:i&&i>0&&r>=i&&o()},d),a.observe(e))}),o};var ce=O('<section class="tome_content width_atmost_md mb_xl9"><header class="mb_xl3 position:sticky top:0"><!></header> <!></section>');function ye(t,e){D(e,!0);const l=Z(e,"docs_path",3,se),r=J.get();F.set(e.tome);const a=g(()=>b(e.tome.name)),c=g(()=>T.url.pathname===$(l()));var s=ce(),n=x(s),i=x(n);{var o=u=>{var h=H(),A=p(h);L(A,()=>e.header),m(u,h)},f=u=>{le(u,{})};B(i,u=>{e.header?u(o):u(f,!1)})}w(n),C(n,()=>P(()=>_(c)?null:({intersecting:u})=>{u?r.fragments_onscreen.add(_(a)):r.fragments_onscreen.delete(_(a))}));var d=j(n,2);L(d,()=>e.children),w(s),C(s,()=>P(()=>_(c)?({intersecting:u})=>{u?r.fragments_onscreen.add(_(a)):r.fragments_onscreen.delete(_(a))}:null)),m(t,s),z()}export{oe as H,ye as T,P as i};
